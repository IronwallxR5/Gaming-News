<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaming News Hub - Home</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="video-banner">
        <div class="fade-out"></div>
        <video autoplay loop muted class="video-background"> 
          <source src="https://video.fastly.steamstatic.com/store_trailers/256987424/movie480_vp9.webm?t=1702007645" type="video/mp4">
          Your browser does not support the video tag.
        </video>

        <div class="content-overlay">
            <img src="w.jpg" alt="Hogwarts Legacy Cover">
            <div class="details">
                <h1>Baldur's Gate 3</h1>
                <p>Hogwarts Legacy is an immersive, open-world action RPG set in the world first introduced in the Harry Potter books. For the first time, experience Hogwarts in the 1800s.</p>
                <div class="platforms">
                    <span>PC</span>
                    <span>Xbox</span>
                    <span>PS5</span>
                </div>
                <button class="buy-now">Buy Now</button>
            </div>
        </div>
    </div>

    <div class="container">
        <nav class="sidebar">
            <div class="logo">
                <h2>Playzone Area</h2>
            </div>
            
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="trending.html">Trending News</a></li>
                <li><a href="esports.html">Esports News</a></li>
                <li><a href="community.html">Community</a></li>
                <li><a href="guides.html">Guides & Tips</a></li>
                <li><a href="about.html">About</a></li>
            </ul>
        </nav>
        <main class="content">
            <h1>Top Trending Games of Year 2024</h1>
            <div class="box-main">
                <img src="b.webp" alt="Hogwarts Legacy Cover" class="box1">
                <img src="c.jpg" alt="Hogwarts Legacy Cover" class="box2"> 
                <img src="f.jpg" alt="Hogwarts Legacy Cover" class="box3">
                <img src="bl.jpg" alt="Hogwarts Legacy Cover" class="box4">
                <img src="el.jpg" alt="Hogwarts Legacy Cover" class="box5">
            </div>
            <br>
            <h1>Streaming Now</h1>
            <br>
            <hr>
            <br>
            <div class="stream-main">
                <div class="game-container">
                  <img src="pubg.jpg" alt="PUBG" class="game1">
                  <div class="overlay">
                    <p class="game-text">PUBG</p>
                    <p class="game-text" id="pubg-viewers">Loading viewers...</p>
                    <a href="https://www.youtube.com/channel/UCmeKFsXZRKgTotHhWDKfUpA/live" target="_blank"><button class="watch-now">Watch Now</button></a>
                  </div>
                </div>

                <div class="game-container">
                  <img src="https://m.media-amazon.com/images/I/51MFu2e82VL._AC_UF894,1000_QL80_.jpg" alt="GTA V" class="game2">
                  <div class="overlay">
                    <p class="game-text">GTA V</p>
                    <p class="game-text" id="gta_v-viewers">Loading viewers...</p>
                    <a href="https://www.youtube.com/channel/UCOquqcRMJmURiGfEnaitptg/live" target="_blank"><button class="watch-now">Watch Now</button></a>
                  </div>
                </div>

                <div class="game-container">
                  <img src="league-legends.png" alt="League of Legends" class="game3">
                  <div class="overlay">
                    <p class="game-text">League of Legends</p>
                    <p class="game-text" id="league_of_legends-viewers">Loading viewers...</p>
                    <a href="https://www.youtube.com/channel/UCZtmNrG53nmbq-Ww2VJrxEQ/live" target="_blank"><button class="watch-now">Watch Now</button></a>
                  </div>
                </div>

                <div class="game-container">
                  <img src="mobilel-egends.jpg" alt="Mobile Legends" class="game4">
                  <div class="overlay">
                    <p class="game-text">Mobile Legends</p>
                    <p class="game-text" id="mobile_legends-viewers">Loading viewers...</p>
                    <a href="https://www.youtube.com/channel/UCEH7P7kyJIkS_gJf93VYbmg/live" target="_blank"><button class="watch-now">Watch Now</button></a>
                  </div>
                </div>
            </div>
        </main>
    </div>
    <script>
        function updateGameViews(game) {
            fetch(`../${game}_views.txt`) 
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(data => {
                    document.getElementById(`${game}-viewers`).innerText = data;
                })
                .catch(error => {
                    console.error('There was a problem with the fetch operation:', error);
                    document.getElementById(`${game}-viewers`).innerText = "Error loading viewers";
                });
        }
    
        // Update viewers every 5 seconds
        setInterval(() => {
            updateGameViews('gta_v');
            updateGameViews('pubg');
            updateGameViews('league_of_legends');
            updateGameViews('mobile_legends');
        }, 5000);
    
        // Initial calls to update viewers
        updateGameViews('gta_v');
        updateGameViews('pubg');
        updateGameViews('league_of_legends');
        updateGameViews('mobile_legends');
    </script>
</body>
</html>
